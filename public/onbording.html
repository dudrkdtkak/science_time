<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì˜¨ë³´ë”© | ë§¤ì¼ 10ë¶„ ê³¼í•™</title>

    <!-- ì™¸ë¶€ ìŠ¤íƒ€ì¼ì‹œíŠ¸ -->
    <link rel="stylesheet" href="style.css" />

    <!-- ì˜¨ë³´ë”© ì „ìš© CSS ë° ìŠ¤íƒ€ ë°°ê²½ ì§ì ‘ ì‚½ì… -->
    <style>
        /* íë¥´ëŠ” ë³„ ë°°ê²½ */
        body {
            position: relative;
            overflow: hidden;
        }

        .star-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .star {
            position: absolute;
            top: var(--y);
            left: var(--x);
            width: var(--size);
            height: var(--size);
            background: white;
            border-radius: 50%;
            opacity: var(--opa);
            animation: float var(--dur) linear var(--delay) infinite;
        }

        @keyframes float {
  from {
    transform: translate(var(--x), var(--y));
  }
  to {
    transform: translate(calc(var(--x) - 20vw), -200vh);
  }
}

        /* ì˜¨ë³´ë”© ê³µí†µ */
        .hidden {
            display: none !important;
        }

        .stepper {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .step-indicator {
            width: 1rem;
            height: 1rem;
            border-radius: 50%;
            background: #ddd;
            transition: background 0.3s ease;
        }

            .step-indicator.active {
                background: #4caf50;
            }

        .onboard-box .step {
            display: none;
        }

            .onboard-box .step.active {
                display: block;
            }

        /* ê¸°ëŠ¥ ë¦¬ìŠ¤íŠ¸ */
        .feature-list {
            list-style: none;
            padding: 0;
            margin: 1rem 0;
        }

            .feature-list li {
                margin: 0.5rem 0;
                font-size: 1.1rem;
            }

        .feature-img {
            display: inline-block;
            margin-left: 0.5rem;
            vertical-align: middle;
            animation: fadeIn 1s ease-in-out;
        }

        /* í¬ì¸íŠ¸ ì¹´ë“œ */
        .points-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .points-card {
            background: #fff;
            border-radius: 8px;
            padding: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.5s forwards;
        }

        /* ë‚ ì§œ/ì‹œê°„/ìš”ì¼/í¼ */
        .date-range, .time-range, .unit-list, #middleLevel, #highLevel {
            margin: 1rem 0;
        }

        .weekday-select {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin: 1rem 0;
        }

            .weekday-select label {
                display: flex;
                align-items: center;
                gap: 0.25rem;
            }

        .form-group {
            margin: 0.5rem 0;
        }

        .subunits {
            margin-left: 1rem;
        }

        /* ìš”ì•½ ë¦¬ìŠ¤íŠ¸ */
        .summary-list {
            list-style: none;
            padding: 0;
            margin: 1rem 0;
        }

            .summary-list li {
                margin: 0.5rem 0;
                font-size: 1rem;
            }

        /* ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <!-- ë³„ ë°°ê²½ -->
    <div class="star-container"></div>

    <div class="main-box">
        <h1>ë§¤ì¼ 10ë¶„ ê³¼í•™</h1>
        <p class="subtitle">ë§¤ì¼ ë– ë‚˜ëŠ” 10ë¶„ê°„ì˜ ê³¼í•™ íƒì‚¬</p>

        <div class="onboard-box">
            <div class="stepper">
                <span class="step-indicator active"></span>
                <span class="step-indicator"></span>
                <span class="step-indicator"></span>
                <span class="step-indicator"></span>
            </div>

            <form id="onboardForm">
                <!-- 1ë‹¨ê³„: ê¸°ëŠ¥ ì†Œê°œ ë° í•™ìŠµ íš¨ê³¼ -->
                <div class="step active" data-step="1">
                    <h2>ë§¤ì¼ 10ë¶„ ê³¼í•™ì˜ í•µì‹¬ ê¸°ëŠ¥</h2>
                    <ul class="feature-list">
                        <li>ğŸ” AIê°€ ë‚´ ìˆ˜ì¤€ì— ë”± ë§ì¶˜ ë¹ˆì¹¸Â·OX ë¬¸ì œ ìë™ ìƒì„± <span class="feature-img"><img src="/assets/ai_icon.png" alt="AI ì•„ì´ì½˜"></span></li>
                        <li>ğŸ“Š ì˜¤ë‹µ íƒœê·¸ ê¸°ë°˜ ê°œì¸ë³„ ì•½ì  ë¶„ì„ ë° ë§ì¶¤ ì¶œì œ <span class="feature-img"><img src="/assets/analysis_icon.png" alt="ë¶„ì„ ì•„ì´ì½˜"></span></li>
                        <li>ğŸ† ëˆ„ì  í¬ì¸íŠ¸Â·ë±ƒì§€ ì‹œìŠ¤í…œìœ¼ë¡œ ë™ê¸° ë¶€ì—¬ <span class="feature-img"><img src="/assets/points_icon.png" alt="í¬ì¸íŠ¸ ì•„ì´ì½˜"></span></li>
                        <li>â±ï¸ í•˜ë£¨ 10ë¶„, ê¾¸ì¤€í•œ í•™ìŠµ ë£¨í‹´ ê´€ë¦¬ <span class="feature-img"><img src="/assets/routine_icon.png" alt="ë£¨í‹´ ì•„ì´ì½˜"></span></li>
                    </ul>
                    <h3>í•™ìŠµ íš¨ê³¼</h3>
                    <p>â€¢ ì •í™•í•œ ì˜¤ë‹µ ë¶„ì„ìœ¼ë¡œ ì•½ì  ë³´ì™„<br>â€¢ ë§¤ì¼ ìŒ“ì´ëŠ” ì§§ì€ ë³µìŠµìœ¼ë¡œ ì¥ê¸° ê¸°ì–µ ê°•í™”<br>â€¢ ê²Œì„í™”ëœ ìš”ì†Œë¡œ ì¬ë¯¸ìˆê²Œ ê³¼í•™ ì‹¤ë ¥ ì—…ê·¸ë ˆì´ë“œ</p>
                    <h3>ì»¤ë®¤ë‹ˆí‹° í˜œíƒ</h3>
                    <p>â€¢ ê°œì¸ í¬ì¸íŠ¸ë¥¼ í†µí•´ ìš°ë¦¬ ì§€ì—­ ë­í‚¹ í™•ì¸<br>â€¢ ìš°ë¦¬ ë°˜Â·ìš°ë¦¬ í•™êµ ë­í‚¹ í•œëˆˆì— í™•ì¸<br>â€¢ ìƒìœ„ ë­ì»¤ì—ê²Œ ê¹œì§ ë†€ë„ë§Œí•œ í˜œíƒ ì œê³µ!</p>
                    <div class="buttons-vertical">
                        <button type="button" id="next1" class="btn signup">ë‹¤ìŒ â–¶</button>
                    </div>
                </div>

                <!-- 2ë‹¨ê³„: í¬ì¸íŠ¸ & ë­í‚¹ í™•ì¸ -->
                <div class="step" data-step="2">
                    <h2>í¬ì¸íŠ¸ & ë­í‚¹ í™•ì¸</h2>
                    <div class="points-grid">
                        <div class="points-card" style="animation-delay:0s">
                            <h3>ë‚˜ì˜ í¬ì¸íŠ¸</h3>
                            <p class="points-value" id="myPoints">0</p>
                            <p>êµ¬/êµ° ë­í‚¹: <span id="myRankDistrict">-</span>ìœ„</p>
                            <p>ì‹œ/ë„ ë­í‚¹: <span id="myRankProvince">-</span>ìœ„</p>
                        </div>
                        <div class="points-card" style="animation-delay:0.2s">
                            <h3>ìš°ë¦¬ ë°˜ í¬ì¸íŠ¸</h3>
                            <p class="points-value" id="classPoints">0</p>
                            <p>êµ¬/êµ° ë­í‚¹: <span id="classRankDistrict">-</span>ìœ„</p>
                            <p>ì‹œ/ë„ ë­í‚¹: <span id="classRankProvince">-</span>ìœ„</p>
                        </div>
                        <div class="points-card" style="animation-delay:0.4s">
                            <h3>ìš°ë¦¬ í•™êµ í¬ì¸íŠ¸</h3>
                            <p class="points-value" id="schoolPoints">0</p>
                            <p>êµ¬/êµ° ë­í‚¹: <span id="schoolRankDistrict">-</span>ìœ„</p>
                            <p>ì‹œ/ë„ ë­í‚¹: <span id="schoolRankProvince">-</span>ìœ„</p>
                        </div>
                    </div>
                    <div class="buttons-vertical">
                        <button type="button" id="next2" class="btn signup">ë‹¤ìŒ â–¶</button>
                    </div>
                </div>

                <!-- 3ë‹¨ê³„: í•™ìŠµ ì¼ì • ì„¤ì • -->
                <div class="step" data-step="3">
                    <h2>í•™ìŠµ ì¼ì • ì„¤ì •</h2>
                    <div class="date-range">
                        <label for="dateStart">ì‹œì‘ ë‚ ì§œ:</label>
                        <input type="date" id="dateStart" name="dateStart" required>
                        <label for="dateEnd">ì¢…ë£Œ ë‚ ì§œ:</label>
                        <input type="date" id="dateEnd" name="dateEnd" required>
                    </div>
                    <div class="anytime-option">
                        <button type="button" id="anytimeBtn" class="btn small">ì•„ë¬´ë•Œë‚˜</button>
                        <p id="anytimeNote" class="hint hidden">ì›í•˜ëŠ” ì‹œê°„ëŒ€ ì•„ë¬´ë•Œë‚˜ ë³´ë‚´ì¤„ê²Œìš”!</p>
                    </div>
                    <div class="time-range hidden" id="timeRange">
                        <h3>ì‹œê°„ ë²”ìœ„ ì„¤ì •</h3>
                        <label for="startTime">ì‹œì‘ ì‹œê°„:</label>
                        <select id="startTime" name="startTime">
                            <option>08:00</option>
                            <option>09:00</option><!-- ... -->
                        </select>
                        <label for="endTime">ì¢…ë£Œ ì‹œê°„:</label>
                        <select id="endTime" name="endTime">
                            <option>18:00</option>
                            <option>19:00</option><!-- ... -->
                        </select>
                    </div>
                    <h3>í•™ìŠµ ìš”ì¼ ì„ íƒ</h3>
                    <div class="weekday-select">
                        <label><input type="checkbox" name="weekday" value="mon">ì›”</label>
                        <label><input type="checkbox" name="weekday" value="tue">í™”</label>
                        <label><input type="checkbox" name="weekday" value="wed">ìˆ˜</label>
                        <label><input type="checkbox" name="weekday" value="thu">ëª©</label>
                        <label><input type="checkbox" name="weekday" value="fri">ê¸ˆ</label>
                        <label><input type="checkbox" name="weekday" value="sat">í† </label>
                        <label><input type="checkbox" name="weekday" value="sun">ì¼</label>
                    </div>
                    <h3>ë¬¸ì œ ìˆ˜ ì„¤ì •</h3>
                    <input type="number" id="problemCount" name="problemCount" min="1" max="100" value="10" required>
                    <div class="buttons-vertical">
                        <button type="button" id="next3" class="btn signup">ë‹¤ìŒ â–¶</button>
                    </div>
                </div>

                <!-- 4ë‹¨ê³„: í•™ìŠµ ë²”ìœ„ ì„¤ì • -->
                <div class="step" data-step="4">
                    <h2>í•™ìŠµ ë²”ìœ„ ì„¤ì •</h2>
                    <div class="form-group">
                        <label for="schoolLevel">í•™êµ ë‹¨ê³„</label>
                        <select id="schoolLevel" name="schoolLevel" required>
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="middle">ì¤‘í•™êµ</option>
                            <option value="high">ê³ ë“±í•™êµ</option>
                        </select>
                    </div>
                    <div id="textbookSelect" class="form-group hidden">
                        <label for="textbook">êµê³¼ì„œ</label>
                        <select id="textbook" name="textbook" required>
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                        </select>
                    </div>
                    <div id="middleLevel" class="hidden">
                        <div class="form-group">
                            <label for="middleGrade">í•™ë…„</label>
                            <select id="middleGrade" name="middleGrade">
                                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                <option value="1">1í•™ë…„</option>
                                <option value="2">2í•™ë…„</option>
                                <option value="3">3í•™ë…„</option>
                            </select>
                        </div>
                        <div id="middleUnits" class="unit-list hidden">
                            <h3>ë‹¨ì› ì„ íƒ</h3>
                            <div class="unit">
                                <label><input type="checkbox" class="unit-master" data-unit="unit1">1ë‹¨ì› ëŒ€ë‹¨ì›</label>
                                <div class="subunits">
                                    <label><input type="checkbox" name="unit1-sub" value="unit1-sub1">ì†Œë‹¨ì›1</label>
                                    <label><input type="checkbox" name="unit1-sub" value="unit1-sub2">ì†Œë‹¨ì›2</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="highLevel" class="hidden">
                        <div class="form-group">
                            <label for="highGrade">í•™ë…„</label>
                            <select id="highGrade" name="highGrade">
                                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                <option value="1">1í•™ë…„</option>
                                <option value="2">2í•™ë…„</option>
                                <option value="3">3í•™ë…„</option>
                            </select>
                        </div>
                        <div id="highGrade1" class="hidden">
                            <div class="form-group">
                                <label for="hs1Subject">ê³¼ëª©</label>
                                <select id="hs1Subject" name="hs1Subject">
                                    <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                    <option value="intSci1">í†µí•©ê³¼í•™1</option>
                                    <option value="intSci2">í†µí•©ê³¼í•™2</option>
                                </select>
                            </div>
                            <div id="hs1Units" class="unit-list hidden">
                                <h3>ë‹¨ì› ì„ íƒ</h3>
                                <div class="unit">
                                    <label><input type="checkbox" class="unit-master" data-unit="hs1-u1">1ë‹¨ì› ëŒ€ë‹¨ì›</label>
                                    <div class="subunits">
                                        <label><input type="checkbox" name="hs1-u1-sub" value="hs1-u1-sub1">ì†Œë‹¨ì›1</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="highGrade23" class="hidden">
                            <h3>ê³¼ëª©ë³„ ë‹¨ì› ì„ íƒ</h3>
                            <div class="unit-list">
                                <div class="unit">
                                    <label><input type="checkbox" class="unit-master" data-unit="physics1">ë¬¼ë¦¬1 ëŒ€ë‹¨ì›</label>
                                    <div class="subunits">
                                        <label><input type="checkbox" name="physics1-sub" value="p1-sub1">ì†Œë‹¨ì›1</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="buttons-vertical">
                        <button type="button" id="next4" class="btn signup">ë‹¤ìŒ â–¶</button>
                    </div>
                </div>

                <!-- 5ë‹¨ê³„: ì„¤ì • ìš”ì•½ -->
                <div class="step" data-step="5">
                    <h2>ì„¤ì • ìš”ì•½</h2>
                    <ul class="summary-list">
                        <li><strong>í•™êµ ë‹¨ê³„:</strong> <span id="sumSchoolLevel"></span></li>
                        <li><strong>êµê³¼ì„œ:</strong> <span id="sumTextbook"></span></li>
                        <li><strong>í•™ë…„:</strong> <span id="sumGrade"></span></li>
                        <li><strong>ë‹¨ì›:</strong> <span id="sumUnits"></span></li>
                        <li><strong>í•™ìŠµ ê¸°ê°„:</strong> <span id="sumDateRange"></span></li>
                        <li><strong>í•™ìŠµ ì‹œê°„:</strong> <span id="sumTimeRange"></span></li>
                        <li><strong>í•™ìŠµ ìš”ì¼:</strong> <span id="sumWeekdays"></span></li>
                        <li><strong>ë¬¸ì œ ìˆ˜:</strong> <span id="sumProblemCount"></span></li>
                    </ul>
                    <div class="buttons-vertical">
                        <button type="submit" class="btn signup">ì‹œì‘í•˜ê¸° â–¶</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- ì˜¨ë³´ë”© ì „ìš© JS -->
    <script>
        // íë¥´ëŠ” ë³„ ìƒì„±
        window.addEventListener('load', () => {
                        const container = document.querySelector('.star-container');
                        const STAR_COUNT = 2000;
                        for (let i = 0; i < STAR_COUNT; i++) {
                                const star = document.createElement('div');
                +                star.classList.add('star');
                +                // X ìœ„ì¹˜: 0~100vw
                    +                star.style.setProperty('--x', Math.random() * 100 + 'vw');
                +                // Y ìœ„ì¹˜: -50~150vh
                    +                star.style.setProperty('--y', (Math.random() * 200 - 50) + 'vh');
                +                // í¬ê¸°: 1~4px
                    +                star.style.setProperty('--size', (1 + Math.random() * 3) + 'px');
                +                // ì´ë™ ì†ë„: 10~15ì´ˆ
                    +                star.style.setProperty('--dur', (10 + Math.random() * 5) + 's');
                +                // ì§€ì—° ì‹œê°„: 0~3ì´ˆ
                    +                star.style.setProperty('--delay', (Math.random() * 3) + 's');
                +                // ë¶ˆíˆ¬ëª…ë„: 0.8~1.0
                    +                star.style.setProperty('--opa', (0.8 + Math.random() * 0.2));
                               container.appendChild(star);
                    }
                  });

        // ìŠ¤í… ì „í™˜
        const steps = document.querySelectorAll('.onboard-box .step');
        const inds = document.querySelectorAll('.stepper .step-indicator');
        let cur = 1;
        function showStep(n) {
            cur = n;
            steps.forEach(s => s.classList.toggle('active', +s.dataset.step === n));
            inds.forEach((i, idx) => i.classList.toggle('active', idx + 1 === n));
        }
        document.getElementById('next1').onclick = () => showStep(2);
        document.getElementById('next2').onclick = () => showStep(3);
        document.getElementById('next3').onclick = () => showStep(4);
        document.getElementById('next4').onclick = () => { populateSummary(); showStep(5); };

        // 3ë‹¨ê³„: ì•„ë¬´ë•Œë‚˜ í† ê¸€
        document.getElementById('anytimeBtn').onclick = () => {
            document.getElementById('anytimeNote').classList.toggle('hidden');
            document.getElementById('timeRange').classList.toggle('hidden');
        };

        // 4ë‹¨ê³„: êµê³¼ì„œ/ë‹¨ì› í† ê¸€
        const sl = document.getElementById('schoolLevel');
        const txs = document.getElementById('textbookSelect');
        const tx = document.getElementById('textbook');
        const ml = document.getElementById('middleLevel');
        const hl = document.getElementById('highLevel');
        const mg = document.getElementById('middleGrade');
        const hg = document.getElementById('highGrade');
        const mu = document.getElementById('middleUnits');
        const su = document.getElementById('hs1Units');
        const h23 = document.getElementById('highGrade23');
        sl.onchange = () => {
            ml.classList.toggle('hidden', sl.value !== 'middle');
            hl.classList.toggle('hidden', sl.value !== 'high');
            txs.classList.add('hidden'); mu.classList.add('hidden');
            su.classList.add('hidden'); h23.classList.add('hidden');
        };
        mg.onchange = () => {
            if (mg.value) {
                tx.innerHTML = `
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="korea_science">êµ­ì–´ ê³¼í•™</option>
              <option value="basic_science">ê¸°ë³¸ ê³¼í•™</option>
            `;
                txs.classList.remove('hidden');
            } else {
                txs.classList.add('hidden');
                mu.classList.add('hidden');
            }
        };
        tx.onchange = () => mu.classList.toggle('hidden', !tx.value);
        hg.onchange = () => {
            su.classList.add('hidden'); h23.classList.add('hidden'); txs.classList.add('hidden');
            if (hg.value === '1') {
                tx.innerHTML = `
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="intSci1">í†µí•©ê³¼í•™1</option>
              <option value="intSci2">í†µí•©ê³¼í•™2</option>
            `;
                txs.classList.remove('hidden');
            } else if (hg.value === '2' || hg.value === '3') {
                h23.classList.remove('hidden');
            }
        };
        document.getElementById('hs1Subject').onchange = function () {
            su.classList.toggle('hidden', !this.value);
        };

        // 5ë‹¨ê³„: ìš”ì•½ ì±„ìš°ê¸°
        function populateSummary() {
            const p = JSON.parse(localStorage.getItem('user_profile') || '{}');
            document.getElementById('sumSchoolLevel').textContent = p.schoolLevel || '-';
            document.getElementById('sumTextbook').textContent = p.textbook || '-';
            document.getElementById('sumGrade').textContent = p.grade || '-';
            document.getElementById('sumUnits').textContent = (p.units || []).join(', ') || '-';
            document.getElementById('sumDateRange').textContent =
                p.dateStart && p.dateEnd ? `${p.dateStart} ~ ${p.dateEnd}` : '-';
            document.getElementById('sumTimeRange').textContent =
                p.anytime ? 'ì•„ë¬´ë•Œë‚˜' :
                    p.startTime && p.endTime ? `${p.startTime} ~ ${p.endTime}` : '-';
            document.getElementById('sumWeekdays').textContent = (p.weekdays || []).join(', ') || '-';
            document.getElementById('sumProblemCount').textContent = p.problemCount || '-';
        }

        // 5ë‹¨ê³„ â€œì‹œì‘í•˜ê¸°â€ í´ë¦­
        document.querySelector('[type=submit]').onclick = e => {
            if (cur === 5) {
                e.preventDefault();
                window.location.href = 'quiz.html';
            }
        };
    </script>
</body>
</html>
